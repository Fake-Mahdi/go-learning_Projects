Ahhh, now I see exactly what youâ€™re asking, Mahdi ğŸ˜ â€” youâ€™re asking about the second parameter of jwt.Parse, the function itself, not the tokenString. Let me clarify precisely.

jwt.Parse(tokenString, keyFunc)

tokenString â†’ the JWT string you got from the client.

keyFunc â†’ a callback function that jwt.Parse calls after decoding the header to get the key needed to verify the signature.

Signature of keyFunc:

func(token *jwt.Token) (interface{}, error)

1ï¸âƒ£ What it receives (token *jwt.Token)

After decoding the JWT string, jwt.Parse creates a temporary jwt.Token object in memory.

This object contains:

Header â†’ JSON from the token header

Claims â†’ decoded payload

Method â†’ signing algorithm

jwt.Parse passes this token to your keyFunc so you can inspect it before giving the key.

2ï¸âƒ£ What it must return (interface{}, error)

interface{} â†’ the key that should be used to verify the signature (e.g., secretKey for HS256)

error â†’ any error if something is wrong (e.g., unexpected signing method)

3ï¸âƒ£ The flow

Client sends JWT string â†’ tokenString

jwt.Parse decodes it â†’ temporary jwt.Token object

jwt.Parse calls your keyFunc(token) â†’ you check the algorithm and return the secret key

jwt.Parse uses the returned key to verify the signature

Returns token (with claims) and err

âœ… TL;DR

The callback function is not the token itself â€” itâ€™s a way for jwt.Parse to ask you: â€œWhich key should I use to verify this decoded token?â€

token is the temporary in-memory token object passed to that function so you can inspect its header.

Return value: the key to verify signature + optional error.